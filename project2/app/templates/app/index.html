{% extends "app/layout.html" %}
{% load staticfiles %}

{% block content %}
<div style="padding-top: 50px" class="container body-content">
    <div>
        <h1>New Albums and Singles</h1>
        <div class="row">
            {% for track in new_releases %}
            <div class="col-sm-3">
                <div class="card">
                    {% if username %}
                    <a href="/music/id={{track.id}}">
                    <img data-toggle="modal" data-target=".bd-example-modal-sm" class="card-img-top"
                         src="{{ track.src }}" alt="Card image">
                    </a>
                    {% else %}
                    <img data-toggle="modal" data-target=".bd-example-modal-sm" class="card-img-top"
                         src="{{ track.src }}" alt="Card image">
                    {% endif %}
                    <div class="card-body">
                        {% if username %}
                        <a style="color: black" href="/music/id={{track.id}}">
                            <h6 class="card-title text-capitalize"> {{ track.name }} </h6>
                        </a>
                        {% else %}
                        <h6 class="card-title text-capitalize"> {{ track.name }} </h6>
                        {% endif %}
                        {% if track.artists|length > 0 %}
                            {% for artist in track.artists %}
                                {% if username %}
                                <a href="/artist/id={{ artist.1 }}/" class="card-text badge badge-pill badge-secondary ">{{ artist.0 }}</a>
                                {% else %}
                                <span class="card-text badge badge-pill badge-secondary ">{{ artist.0 }}</span>
                                {% endif %}
                        {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% if top_tracks %}
    <div style="padding-top: 30px">
        <h1>Top Tracks</h1>
        <div class="row">
            {% for top_track in top_tracks %}
            <div class="col-sm-3">
                <div class="card">
                    <a href="/music/id={{top_track.id}}">
                    <img data-toggle="modal" data-target=".bd-example-modal-sm" class="card-img-top"
                         src="{{ top_track.src }}" alt="Card image">
                    </a>
                    <div class="card-body">
                        <a style="color: black" href="/music/id={{top_track.id}}"><h6 class="card-title">{{ top_track.name }}</h6></a>
                        {% if top_track.artists|length > 0 %}
                            {% for artist in top_track.artists %}
                                <a href="/artist/id={{ artist.1 }}/" class="card-text badge badge-pill badge-secondary ">{{ artist.0 }}</a>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</div>

<div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="mySmallModalLabel">Music Name</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">Ã—</span>
                </button>
            </div>
            <div class="modal-body">
                <p><b>Album:</b> None</p>
                <p><b>Artistas:</b> None</p>
                <p><b>Ano:</b> None</p>
                <p><b>Editora:</b> None</p>
            </div>
        </div>
    </div>
</div>

{% endblock %}
